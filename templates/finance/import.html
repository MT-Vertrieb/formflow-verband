{% extends "base.html" %}
{% block content %}
<div class="card">
  <h3>CSV-Import (Haushaltsplan)</h3>
  <p><b>Wichtig:</b> Die Datei muss <b>Semikolon</b>-getrennt sein (<code>;</code>).</p>
  <ul>
    <li><b>Kostenstellen:</b> <code>code;name</code></li>
    <li><b>Kostencluster:</b> <code>code;name;costcenter_code</code></li>
  </ul>
  <form method="post" enctype="multipart/form-data">{% csrf_token %}
    {{ form.as_p }}
    <button type="submit">Upload starten</button>
  </form>
</div>
{% if preview %}
<div class="card" style="margin-top:12px">
  <h4>Vorschau (erste 10 Zeilen)</h4>
  <pre>{{ preview|safe }}</pre>
  <p>Zum Übernehmen erneut hochladen und <b>Testlauf</b> abwählen. Achtung: Der Import <b>überschreibt</b> die bestehenden Einträge des Jahres.</p>
</div>
{% endif %}
{% endblock %}
